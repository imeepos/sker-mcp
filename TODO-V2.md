# TODO-V2.md - Sker Daemon MCP æœåŠ¡å™¨å¼€å‘è·¯çº¿å›¾

## ğŸ“‹ é¡¹ç›®åˆ†ææ€»ç»“

åŸºäºå¯¹è®¾è®¡æ–‡æ¡£å’Œç°æœ‰å®ç°çš„æ·±å…¥åˆ†æï¼Œæœ¬æ–‡æ¡£è¯¦ç»†åˆ—å‡ºäº†**å·²å®ç°åŠŸèƒ½**ã€**æœªå®ç°åŠŸèƒ½**å’Œ**éœ€è¦æ”¹è¿›çš„åŠŸèƒ½**ï¼Œå¹¶åˆ¶å®šäº†å®Œæ•´çš„å¼€å‘è·¯çº¿å›¾ã€‚

## ğŸ¯ æ¶æ„è®¾è®¡ vs å®é™…å®ç°å¯¹æ¯”

### âœ… å·²å®ç°çš„æ ¸å¿ƒåŠŸèƒ½

#### 1. åŸºç¡€æ¶æ„æ¡†æ¶
- [x] **ä¾èµ–æ³¨å…¥ç³»ç»Ÿ**: åŸºäº @sker/di çš„ç±»å‹å®‰å…¨ä¾èµ–æ³¨å…¥
- [x] **è£…é¥°å™¨ç³»ç»Ÿ**: @Toolã€@Resourceã€@Promptã€@Input è£…é¥°å™¨å®ç°
- [x] **é¡¹ç›®ç®¡ç†**: ProjectManager æ”¯æŒé¡¹ç›®ç›®å½•ç®¡ç†
- [x] **æœåŠ¡ç®¡ç†**: ServiceManager æ”¯æŒ MCP æœåŠ¡å™¨åŸºæœ¬åŠŸèƒ½
- [x] **åº”ç”¨ç”Ÿå‘½å‘¨æœŸ**: McpApplication æ”¯æŒå¯åŠ¨/åœæ­¢/é‡å¯
- [x] **åŸºç¡€ç±»å‹å®šä¹‰**: å®Œæ•´çš„ TypeScript ç±»å‹ç³»ç»Ÿ

#### 2. è£…é¥°å™¨ç³»ç»Ÿå®ç°
- [x] **@Tool è£…é¥°å™¨**: å·¥å…·å®šä¹‰å’Œå…ƒæ•°æ®æ”¶é›†
- [x] **@Resource è£…é¥°å™¨**: èµ„æºå®šä¹‰å’Œå…ƒæ•°æ®æ”¶é›†  
- [x] **@Prompt è£…é¥°å™¨**: æç¤ºå®šä¹‰å’Œå…ƒæ•°æ®æ”¶é›†
- [x] **@Input è£…é¥°å™¨**: å‚æ•°éªŒè¯è£…é¥°å™¨
- [x] **@UseMiddleware è£…é¥°å™¨**: ä¸­é—´ä»¶æ”¯æŒ
- [x] **@ErrorHandler è£…é¥°å™¨**: é”™è¯¯å¤„ç†è£…é¥°å™¨

#### 3. ä¸­é—´ä»¶å’Œé”™è¯¯å¤„ç†
- [x] **ä¸­é—´ä»¶ç³»ç»Ÿ**: æ´‹è‘±æ¨¡å‹ä¸­é—´ä»¶æ‰§è¡Œå™¨
- [x] **é”™è¯¯ç®¡ç†**: åŸºç¡€é”™è¯¯ç®¡ç†å™¨å®ç°
- [x] **ä¸­é—´ä»¶ç±»å‹**: å®Œæ•´çš„ä¸­é—´ä»¶æ¥å£å®šä¹‰

#### 4. MCP åè®®æ”¯æŒ
- [x] **MCP Server**: åŸºäº @modelcontextprotocol/sdk çš„æœåŠ¡å™¨å®ç°
- [x] **Transport å±‚**: Stdio ä¼ è¾“æ”¯æŒ
- [x] **åè®®å¤„ç†**: å·¥å…·ã€èµ„æºã€æç¤ºçš„åŸºç¡€å¤„ç†

#### 5. **ğŸš€ Feature Injector æ’ä»¶éš”ç¦»æ¶æ„** âœ… **COMPLETED (Phase 1)**
- [x] **æ’ä»¶éš”ç¦»ç³»ç»Ÿ**: æ¯ä¸ªæ’ä»¶ç‹¬ç«‹çš„ Feature Injectorï¼Œæ”¯æŒ 3 ç§éš”ç¦»çº§åˆ« (None/Service/Full)
- [x] **åŠ¨æ€åŠ è½½/å¸è½½**: æ’ä»¶è¿è¡Œæ—¶åŠ¨æ€ç®¡ç†ï¼Œæ”¯æŒçƒ­é‡è½½å’Œæ‰¹é‡æ“ä½œ
- [x] **æœåŠ¡å®ä¾‹é¢„ç»‘å®š**: å·¥å…·ä¸æœåŠ¡å®ä¾‹çš„é¢„ç»‘å®šæœºåˆ¶ï¼Œä¼˜åŒ–æ‰§è¡Œæ€§èƒ½
- [x] **å†²çªæ£€æµ‹**: æ’ä»¶åç§°å’ŒåŠŸèƒ½å†²çªå¤„ç†ç³»ç»Ÿ
- [x] **æ’ä»¶ç”Ÿå‘½å‘¨æœŸ**: å®Œæ•´çš„æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç† (onLoad/onUnload/onEnable/onDisable)

#### 6. **ğŸ” Plugin Discovery å’Œ Loading ç³»ç»Ÿ** âœ… **COMPLETED (Phase 1)**
- [x] **Plugin Discovery**: é€’å½’ç›®å½•æ‰«æï¼Œè‡ªåŠ¨æ’ä»¶å‘ç°å’ŒéªŒè¯
- [x] **Plugin Loader**: åŠ¨æ€æ¨¡å—å¯¼å…¥ï¼Œæ”¯æŒ ES/CommonJSï¼Œå¤šç§å®ä¾‹åŒ–æ¨¡å¼
- [x] **Metadata éªŒè¯**: åŸºäº Zod Schema çš„ package.json éªŒè¯
- [x] **å…¼å®¹æ€§æ£€æŸ¥**: Node.js ç‰ˆæœ¬ã€å¹³å°ã€MCP ç‰ˆæœ¬å…¼å®¹æ€§éªŒè¯
- [x] **æ€§èƒ½ç›‘æ§**: åŠ è½½æ—¶é—´ã€ç¼“å­˜å‘½ä¸­ç‡ã€è®¿é—®æŒ‡æ ‡ç»Ÿè®¡

#### 7. **âš¡ Service Pre-binding ç³»ç»Ÿ** âœ… **COMPLETED (Phase 1)**
- [x] **Service Pre-binding Manager**: æœåŠ¡å®ä¾‹é¢„ç»‘å®šç®¡ç†å™¨
- [x] **Pre-bound Handlers**: ä¼˜åŒ–çš„ Tool/Resource/Prompt å¤„ç†å™¨
- [x] **Service Caching**: æœåŠ¡å®ä¾‹ç¼“å­˜å’Œè®¿é—®æŒ‡æ ‡
- [x] **Plugin Integration**: ä¸æ’ä»¶ç³»ç»Ÿçš„æ·±åº¦é›†æˆ

### âŒ æœªå®ç°çš„å…³é”®åŠŸèƒ½

#### 1. âœ… ~~Winston åˆ†å±‚æ—¥å¿—ç³»ç»Ÿ~~ - **COMPLETED** ğŸš€
- [x] **Winston Logger**: ä¼ä¸šçº§æ—¥å¿—è®°å½•å®ç° âœ…
- [x] **åˆ†å±‚æ—¥å¿—æ¶æ„**: Platform/Application/Plugin åˆ†å±‚æ—¥å¿— âœ…
- [x] **æ—¥å¿—åˆ†ç¦»**: ä¸åŒå±‚çº§çš„ç‹¬ç«‹æ—¥å¿—æ–‡ä»¶ âœ…
- [x] **Logger Factory**: æ—¥å¿—å®ä¾‹å·¥å‚å’Œç®¡ç† âœ…
- [x] **æ—¥å¿—è½®è½¬**: è‡ªåŠ¨æ—¥å¿—è½®è½¬å’Œå½’æ¡£ âœ…

#### 2. é«˜çº§ä¸­é—´ä»¶ç³»ç»Ÿ (Priority: HIGH) - **NEXT PRIORITY**
- [ ] **å†…ç½®ä¸­é—´ä»¶**: LoggingMiddlewareã€ValidationMiddlewareã€CacheMiddleware
- [ ] **ä¸­é—´ä»¶å·¥å‚**: ä¸­é—´ä»¶å®ä¾‹åˆ›å»ºå’Œç®¡ç†
- [ ] **æ€§èƒ½ç›‘æ§ä¸­é—´ä»¶**: æ‰§è¡Œæ—¶é—´å’Œèµ„æºä½¿ç”¨ç›‘æ§
- [ ] **è®¤è¯ä¸­é—´ä»¶**: ç”¨æˆ·èº«ä»½éªŒè¯å’Œæƒé™æ§åˆ¶

#### 3. ä¼ä¸šçº§é”™è¯¯å¤„ç† (Priority: MEDIUM)
- [ ] **DefaultErrorHandler**: é€šç”¨é”™è¯¯å¤„ç†å™¨
- [ ] **ValidationErrorHandler**: å‚æ•°éªŒè¯é”™è¯¯å¤„ç†
- [ ] **BusinessErrorHandler**: ä¸šåŠ¡é€»è¾‘é”™è¯¯å¤„ç†
- [ ] **é”™è¯¯æ¢å¤ç­–ç•¥**: é‡è¯•æœºåˆ¶ã€ç†”æ–­å™¨ã€é™çº§ç­–ç•¥
- [ ] **MCP é”™è¯¯å“åº”**: ç¬¦åˆ MCP åè®®çš„é”™è¯¯æ ¼å¼

#### 4. âœ… ~~é…ç½®ç®¡ç†ç³»ç»Ÿ~~ - **COMPLETED** ğŸš€
- [x] **å¤šå±‚é…ç½®**: ç¯å¢ƒå˜é‡ > å‘½ä»¤è¡Œ > ç”¨æˆ·é…ç½® > é»˜è®¤é…ç½® âœ…
- [x] **é…ç½®éªŒè¯**: Zod Schema é…ç½®éªŒè¯ âœ…
- [x] **åŠ¨æ€é…ç½®**: è¿è¡Œæ—¶é…ç½®æ›´æ–° âœ…
- [x] **æ’ä»¶é…ç½®**: æ’ä»¶ç‰¹å®šé…ç½®ç®¡ç† âœ…

### âš ï¸ éœ€è¦æ”¹è¿›çš„ç°æœ‰åŠŸèƒ½

#### 1. æœåŠ¡ç®¡ç†å™¨æ”¹è¿› (Priority: HIGH)
**å½“å‰é—®é¢˜**: ç¼ºå°‘æ’ä»¶æœåŠ¡çš„åŠ¨æ€æ³¨å†Œ/æ³¨é”€æœºåˆ¶
- [ ] å®ç°æ’ä»¶æœåŠ¡çš„é¢„ç»‘å®šæ³¨å†Œ
- [ ] æ·»åŠ æœåŠ¡å®ä¾‹ç¼“å­˜å’Œç®¡ç†
- [ ] æ”¯æŒå·¥å…·/èµ„æº/æç¤ºçš„åŠ¨æ€æ³¨é”€
- [ ] é›†æˆ Feature Injector æ¶æ„

#### 2. å…ƒæ•°æ®æ”¶é›†å™¨å¢å¼º (Priority: HIGH)  
**å½“å‰é—®é¢˜**: ç¼ºå°‘æœåŠ¡å®ä¾‹é¢„ç»‘å®šåŠŸèƒ½
- [ ] å®ç° `createBoundTool` æ–¹æ³•
- [ ] å®ç° `createBoundResource` æ–¹æ³•  
- [ ] å®ç° `createBoundPrompt` æ–¹æ³•
- [ ] æ”¯æŒæ’ä»¶ Feature Injector é›†æˆ

#### 3. åŸºç¡€æ’ä»¶ç®¡ç†å™¨å‡çº§ (Priority: CRITICAL)
**å½“å‰é—®é¢˜**: ä»…ä¸ºå ä½å®ç°ï¼Œç¼ºå°‘æ ¸å¿ƒåŠŸèƒ½
- [ ] æ›¿æ¢ä¸ºå®Œæ•´çš„æ’ä»¶ç³»ç»Ÿå®ç°
- [ ] é›†æˆ Feature Injector éš”ç¦»æ¶æ„
- [ ] æ”¯æŒçœŸå®çš„æ’ä»¶åŠ è½½å’Œæ‰§è¡Œ
- [ ] æ·»åŠ æ’ä»¶å…ƒæ•°æ®éªŒè¯å’Œå†²çªæ£€æµ‹

#### 4. âœ… ~~æ—¥å¿—ç³»ç»Ÿå‡çº§~~ - **COMPLETED** ğŸš€
**åŸé—®é¢˜**: ä»…æœ‰åŸºç¡€ ConsoleLoggerï¼Œç¼ºå°‘ä¼ä¸šçº§åŠŸèƒ½
- [x] æ›¿æ¢ä¸º Winston æ—¥å¿—ç³»ç»Ÿ âœ…
- [x] å®ç°åˆ†å±‚æ—¥å¿—æ¶æ„ âœ…
- [x] æ”¯æŒæ–‡ä»¶æ—¥å¿—å’Œè½®è½¬ âœ…
- [x] é›†æˆç»“æ„åŒ–æ—¥å¿—è®°å½• âœ…

## ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾

### âœ… Phase 1: æ ¸å¿ƒæ’ä»¶ç³»ç»Ÿ (Week 1-2) - **COMPLETED** ğŸš€
**ç›®æ ‡**: å®ç° Feature Injector æ’ä»¶éš”ç¦»æ¶æ„çš„æ ¸å¿ƒåŠŸèƒ½  
**å®Œæˆæ—¥æœŸ**: 2025-01-06

#### 1.1 âœ… Feature Injector å®ç° 
- [x] å®ç° `FeatureInjector` æ ¸å¿ƒç±» - `src/core/plugins/feature-injector.ts`
- [x] æ”¯æŒæ’ä»¶ç‹¬ç«‹å®¹å™¨åˆ›å»º - 3ç§éš”ç¦»çº§åˆ« (None/Service/Full)
- [x] å®ç°çˆ¶å®¹å™¨ä¾èµ–ç»§æ‰¿æœºåˆ¶ - æƒé™æ§åˆ¶å’Œé€šä¿¡æ¡¥æ¥
- [x] æ·»åŠ å®¹å™¨é”€æ¯å’Œæ¸…ç†åŠŸèƒ½ - å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†

#### 1.2 âœ… æ’ä»¶å‘ç°å’ŒåŠ è½½
- [x] å®ç° `PluginDiscovery` ç±» - `src/core/plugins/plugin-discovery.ts`
- [x] æ”¯æŒé€’å½’ç›®å½•æ‰«æ - å¯é…ç½®æ·±åº¦å’Œè¿‡æ»¤è§„åˆ™
- [x] éªŒè¯æ’ä»¶ package.json å…ƒæ•°æ® - åŸºäº Zod Schema éªŒè¯
- [x] å®ç° `PluginLoader` åŠ¨æ€å¯¼å…¥ - `src/core/plugins/plugin-loader.ts`

#### 1.3 âœ… æ’ä»¶ç®¡ç†å™¨é‡æ„
- [x] æ›¿æ¢ç°æœ‰åŸºç¡€å®ç° - `src/core/plugin-manager.ts` å…¨é¢é‡æ„
- [x] é›†æˆ Feature Injector æ¶æ„ - å®Œæ•´çš„éš”ç¦»æ’ä»¶ç®¡ç†
- [x] å®ç°æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç† - onLoad/onUnload/onEnable/onDisable
- [x] æ”¯æŒæ’ä»¶åŠ¨æ€åŠ è½½/å¸è½½ - çƒ­é‡è½½å’Œæ‰¹é‡æ“ä½œ

#### 1.4 âœ… æœåŠ¡å®ä¾‹é¢„ç»‘å®š
- [x] å®ç°å·¥å…·é¢„ç»‘å®šæœºåˆ¶ - `src/core/service-prebinding.ts`
- [x] å®ç°èµ„æºé¢„ç»‘å®šæœºåˆ¶ - ä¼˜åŒ–çš„å¤„ç†å™¨å’Œç¼“å­˜
- [x] å®ç°æç¤ºé¢„ç»‘å®šæœºåˆ¶ - æ€§èƒ½ç›‘æ§å’Œè®¿é—®ç»Ÿè®¡
- [x] é›†æˆåˆ° ServiceManager - `src/core/service-manager.ts` å¢å¼º

### âœ… Phase 2: Winston æ—¥å¿—ç³»ç»Ÿ (Week 2-3) - **COMPLETED** ğŸš€
**ç›®æ ‡**: å®ç°ä¼ä¸šçº§åˆ†å±‚æ—¥å¿—æ¶æ„  
**å®Œæˆæ—¥æœŸ**: 2025-01-06

#### 2.1 âœ… Winston Logger å®ç°
- [x] æ›¿æ¢ MockWinstonLogger ä¸ºçœŸå® Winston - `src/core/logging/winston-logger.ts`
- [x] å®ç°å¤šä¼ è¾“æ”¯æŒï¼ˆConsoleã€Fileã€HTTPï¼‰- å®Œæ•´çš„ Winston ä¼ è¾“å±‚
- [x] æ”¯æŒæ—¥å¿—æ ¼å¼åŒ–å’Œç»“æ„åŒ– - JSON/Simple/Dev å¤šç§æ ¼å¼
- [x] å®ç°æ—¥å¿—çº§åˆ«æ§åˆ¶ - ç¯å¢ƒæ„ŸçŸ¥çš„çº§åˆ«ç®¡ç†

#### 2.2 âœ… åˆ†å±‚æ—¥å¿—æ¶æ„  
- [x] å®ç° Platform Logger - ç³»ç»Ÿçº§æ—¥å¿— (warn+)
- [x] å®ç° Application Logger - åº”ç”¨çº§æ—¥å¿— (info+)
- [x] å®ç° Plugin Logger - æ’ä»¶çº§æ—¥å¿— (debug+ï¼Œæ¯æ’ä»¶ç‹¬ç«‹)
- [x] é…ç½®ç‹¬ç«‹çš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ - `~/.sker/logs/{layer}/`

#### 2.3 âœ… Logger Factory å’Œç®¡ç†
- [x] å®ç° `LayeredLoggerFactory` - `src/core/logging/layered-logger.ts`
- [x] æ”¯æŒç»„ä»¶ç‰¹å®š Logger åˆ›å»º - ä¸‰å±‚å·¥å‚æ–¹æ³•
- [x] é›†æˆä¾èµ–æ³¨å…¥ç³»ç»Ÿ - `LAYERED_LOGGER_FACTORY` token
- [x] å®ç° Logger é…ç½®ç®¡ç† - `src/core/logging/logging-config.ts`

#### 2.4 âœ… æ—¥å¿—è½®è½¬å’Œå½’æ¡£
- [x] é…ç½®è‡ªåŠ¨æ—¥å¿—è½®è½¬ - winston-daily-rotate-file é›†æˆ
- [x] å®ç°æ—¥å¿—æ–‡ä»¶å‹ç¼©å½’æ¡£ - Gzip å‹ç¼©æ”¯æŒ
- [x] æ”¯æŒæ—¥å¿—ä¿ç•™ç­–ç•¥ - å¯é…ç½®æ—¶é—´/å¤§å°/æ•°é‡é™åˆ¶
- [x] ç›‘æ§æ—¥å¿—æ–‡ä»¶å¤§å°å’Œæ•°é‡ - 20MB/14å¤©é»˜è®¤ç­–ç•¥

#### 2.5 âœ… ä¼ä¸šçº§åŠŸèƒ½å¢å¼º
- [x] ç¯å¢ƒé…ç½®ç®¡ç† - Development/Production/Testing é¢„è®¾
- [x] è¯·æ±‚ä¸Šä¸‹æ–‡è·Ÿè¸ª - å…³è”IDå’Œç”¨æˆ·è¿½è¸ª
- [x] æ€§èƒ½è®¡æ—¶å™¨ - æ–¹æ³•å’Œå¼‚æ­¥æ“ä½œç›‘æ§
- [x] ç»“æ„åŒ–æ—¥å¿—å·¥å…· - Platform/Application/Plugin ä¸Šä¸‹æ–‡
- [x] å­æ—¥å¿—å™¨æ”¯æŒ - ç»§æ‰¿ä¸Šä¸‹æ–‡çš„å­å®ä¾‹
- [x] å®Œæ•´æ¼”ç¤ºç³»ç»Ÿ - `src/examples/logging-demo.ts`

### âœ… Phase 3: é…ç½®ç®¡ç†ç³»ç»Ÿ (Week 3-4) - **COMPLETED** ğŸš€

#### 3.1 âœ… ~~é…ç½®ç®¡ç†ç³»ç»Ÿ~~ - **COMPLETED**
- [x] å®ç°å¤šå±‚é…ç½®åŠ è½½ âœ…
- [x] æ”¯æŒç¯å¢ƒå˜é‡è¦†ç›– âœ…  
- [x] å®ç°é…ç½®éªŒè¯ âœ…
- [x] æ”¯æŒæ’ä»¶ç‰¹å®šé…ç½® âœ…

### Phase 4: CLI ä½“éªŒä¼˜åŒ–è¯¦ç»†å®æ–½è®¡åˆ’ (Week 5-6) - **CURRENT PRIORITY** ğŸ’»

#### 4.1 ç°ä»£åŒ– CLI æ¡†æ¶å®ç° (Week 5.1-5.3)
```typescript
// æŠ€æœ¯æ ˆé€‰æ‹©
- commander.js / yargs - ç°ä»£ CLI æ¡†æ¶
- chalk - å½©è‰²ç»ˆç«¯è¾“å‡º
- ora - ä¼˜é›…çš„åŠ è½½æŒ‡ç¤ºå™¨
- inquirer - äº¤äº’å¼æç¤º
- boxen - ç¾è§‚çš„ç»ˆç«¯æ¡†æ¶

// ç§æœ‰ npm å’Œ TypeScript æ”¯æŒ
- npm-registry-fetch - npm ç§æœ‰ä»“åº“ API è°ƒç”¨
- npmrc - npm é…ç½®æ–‡ä»¶ç®¡ç†
- typescript - TypeScript ç¼–è¯‘å™¨
- ts-node - TypeScript ç›´æ¥æ‰§è¡Œ
- @types/* - TypeScript ç±»å‹å®šä¹‰
- semver - ç‰ˆæœ¬ç®¡ç†å·¥å…·
```

**å…·ä½“ä»»åŠ¡**:
- [ ] å®ç° `src/cli/cli-application.ts` - æ–° CLI ä¸»åº”ç”¨ç±»
- [ ] é‡æ„ `src/main.ts` - æ”¯æŒ CLI å’ŒæœåŠ¡å™¨åŒæ¨¡å¼  
- [ ] å®ç°å­å‘½ä»¤æ¶æ„ - `src/cli/commands/` ç›®å½•ç»“æ„
- [ ] å½©è‰²è¾“å‡ºå’Œä¸»é¢˜ - `src/cli/utils/output.ts`
- [ ] è¿›åº¦æ¡å’ŒçŠ¶æ€ç®¡ç† - `src/cli/utils/progress.ts`

#### 4.2 åŸºäºç§æœ‰ npm çš„æ’ä»¶ç®¡ç†ç³»ç»Ÿ (Week 5.3-6.1)
```typescript
// TypeScript æ’ä»¶åŒ…ç»“æ„æ ‡å‡†
{
  "name": "@sker-plugins/example-plugin",
  "version": "1.0.0",
  "description": "Example Sker MCP Plugin",
  "main": "dist/index.js",
  "types": "dist/index.d.ts",
  "keywords": ["sker", "mcp", "plugin"],
  "scripts": {
    "build": "tsc",
    "dev": "tsc --watch",
    "test": "jest"
  },
  "sker": {
    "compatibility": "^1.0.0",
    "type": "plugin",
    "category": ["utility", "development"],
    "entry": "dist/index.js"
  },
  "devDependencies": {
    "typescript": "^5.0.0",
    "@types/node": "^20.0.0"
  }
}
```

**å…·ä½“ä»»åŠ¡**:
- [ ] å®ç° `src/cli/utils/npm-wrapper.ts` - ç§æœ‰ npm ä»“åº“æ”¯æŒå’Œè®¤è¯
- [ ] å®ç° `sker auth login` - ç§æœ‰ npm ä»“åº“ç™»å½•ç®¡ç†
- [ ] å®ç° `sker plugin install <name>` - ç§æœ‰ä»“åº“å®‰è£… + æ’ä»¶æ³¨å†Œ
- [ ] å®ç° `sker plugin uninstall <name>` - å¸è½½ + æ’ä»¶æ³¨é”€
- [ ] å®ç° `sker plugin update [name]` - ç§æœ‰ä»“åº“æ›´æ–° + æ’ä»¶é‡è½½
- [ ] å®ç° `sker plugin list` - è§£æå·²å®‰è£…çš„ TypeScript æ’ä»¶
- [ ] å®ç° `sker plugin search <query>` - ç§æœ‰ä»“åº“æœç´¢å’Œè¿‡æ»¤
- [ ] å®ç° `sker plugin create <name>` - TypeScript æ’ä»¶è„šæ‰‹æ¶ç”Ÿæˆ

#### 4.3 äº¤äº’å¼å¼€å‘å·¥å…· (Week 6.1-6.2)
```bash
# å‘½ä»¤ç¤ºä¾‹
sker init                    # é¡¹ç›®åˆå§‹åŒ–å‘å¯¼
sker config set transport.type http  # é…ç½®ç®¡ç†
sker dev                     # å¼€å‘æ¨¡å¼å¯åŠ¨
sker plugin list             # æ’ä»¶çŠ¶æ€æŸ¥çœ‹
sker diagnostic              # ç³»ç»Ÿè¯Šæ–­
```

**å…·ä½“ä»»åŠ¡**:
- [ ] å®ç° `sker init` - äº¤äº’å¼é¡¹ç›®åˆå§‹åŒ–å‘å¯¼
- [ ] å®ç° `sker config` - é…ç½®å¯è§†åŒ–ç®¡ç†å‘½ä»¤
- [ ] å®ç° `sker dev` - çƒ­é‡è½½å¼€å‘æœåŠ¡å™¨
- [ ] å®ç° `sker plugin` - å®Œæ•´æ’ä»¶ç®¡ç†å‘½ä»¤é›†
- [ ] å®ç° `sker diagnostic` - ç³»ç»Ÿå¥åº·æ£€æŸ¥å·¥å…·
- [ ] å®ç°å®æ—¶æ—¥å¿—æŸ¥çœ‹ - `sker logs --follow`

#### 4.4 TypeScript è„šæ‰‹æ¶å’Œè‡ªåŠ¨åŒ–åŠŸèƒ½ (Week 6.2-6.3)
**å…·ä½“ä»»åŠ¡**:
- [ ] å®ç° TypeScript æ’ä»¶æ¨¡æ¿ç³»ç»Ÿ - `src/cli/templates/plugin/`
- [ ] å®ç° TypeScript é¡¹ç›®æ¨¡æ¿ç³»ç»Ÿ - `src/cli/templates/project/`
- [ ] å®ç°æ’ä»¶æ„å»ºå·¥å…· - `sker plugin build` (TypeScript ç¼–è¯‘)
- [ ] å®ç°æ’ä»¶å‘å¸ƒæµç¨‹ - `sker plugin publish` (ç§æœ‰ npm å‘å¸ƒ)
- [ ] å®ç°æ’ä»¶æµ‹è¯•æ¡†æ¶ - `sker plugin test` å‘½ä»¤
- [ ] ç”Ÿæˆ shell è‡ªåŠ¨å®Œæˆè„šæœ¬ - bash/zsh/fish
- [ ] å®ç°æ–‡æ¡£ç”Ÿæˆå·¥å…· - åŸºäº TypeScript ç±»å‹ç”Ÿæˆæ–‡æ¡£

### ğŸ”„ Phase 4 æ›¿ä»£é€‰é¡¹: é«˜çº§ä¸­é—´ä»¶ç³»ç»Ÿ (Week 5-6) - **ALTERNATIVE**

#### A.1 ä¼ä¸šçº§ä¸­é—´ä»¶ç³»ç»Ÿ
- [ ] å®ç° `LoggingMiddleware` - è¯·æ±‚/å“åº”æ—¥å¿—è®°å½•
- [ ] å®ç° `ValidationMiddleware` - è‡ªåŠ¨å‚æ•°éªŒè¯  
- [ ] å®ç° `CacheMiddleware` - æ™ºèƒ½ç»“æœç¼“å­˜
- [ ] å®ç° `AuthenticationMiddleware` - èº«ä»½éªŒè¯å’Œæƒé™æ§åˆ¶
- [ ] å®ç° `PerformanceMiddleware` - æ€§èƒ½ç›‘æ§å’ŒæŒ‡æ ‡æ”¶é›†
- [ ] å®ç° `ErrorHandlingMiddleware` - ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œæ¢å¤

#### A.2 ä¼ä¸šçº§é”™è¯¯å¤„ç†ç³»ç»Ÿ
- [ ] å®ç° `DefaultErrorHandler` - é€šç”¨é”™è¯¯å¤„ç†å™¨
- [ ] å®ç° `ValidationErrorHandler` - å‚æ•°éªŒè¯é”™è¯¯å¤„ç†
- [ ] å®ç° `BusinessErrorHandler` - ä¸šåŠ¡é€»è¾‘é”™è¯¯å¤„ç†  
- [ ] æ”¯æŒé”™è¯¯æ¢å¤ç­–ç•¥ - é‡è¯•æœºåˆ¶ã€ç†”æ–­å™¨ã€é™çº§ç­–ç•¥
- [ ] é›†æˆæ—¥å¿—è®°å½• - ç»“æ„åŒ–é”™è¯¯æ—¥å¿—
- [ ] å®ç° MCP é”™è¯¯æ ¼å¼ - ç¬¦åˆåè®®çš„é”™è¯¯å“åº”

#### A.3 æœåŠ¡ç®¡ç†å™¨å’Œå…ƒæ•°æ®æ”¶é›†å™¨æ”¹è¿›
- [ ] æœåŠ¡ç®¡ç†å™¨é›†æˆé…ç½®ç³»ç»Ÿ - ä½¿ç”¨æ–°é…ç½®ç®¡ç†
- [ ] å®ç°æœåŠ¡å®ä¾‹é¢„ç»‘å®šæ³¨å†Œ - é›†æˆ Feature Injector
- [ ] å…ƒæ•°æ®æ”¶é›†å™¨å¢å¼º - æ”¯æŒé¢„ç»‘å®šåŠŸèƒ½
- [ ] åŠ¨æ€æœåŠ¡æ³¨å†Œ/æ³¨é”€ - è¿è¡Œæ—¶æœåŠ¡ç®¡ç†

### Phase 5: ç³»ç»Ÿé›†æˆå’Œä¼˜åŒ– (Week 5-6) - MEDIUM

#### 5.1 ç³»ç»Ÿé›†æˆæµ‹è¯•
- [ ] ç¼–å†™é…ç½®ç³»ç»Ÿé›†æˆæµ‹è¯• - å¤šå±‚é…ç½®éªŒè¯
- [ ] ç¼–å†™ä¸­é—´ä»¶ç³»ç»Ÿé›†æˆæµ‹è¯• - ä¸­é—´ä»¶é“¾æ‰§è¡Œ
- [ ] æµ‹è¯•é”™è¯¯å¤„ç†æµç¨‹ - ç«¯åˆ°ç«¯é”™è¯¯æ¢å¤
- [ ] éªŒè¯æ’ä»¶é…ç½®éš”ç¦» - è·¨æ’ä»¶é…ç½®éªŒè¯

#### 5.2 æ€§èƒ½ä¼˜åŒ–
- [ ] å®ç°é…ç½®ç¼“å­˜ä¼˜åŒ– - é¿å…é‡å¤è§£æ
- [ ] æ·»åŠ ä¸­é—´ä»¶æ€§èƒ½ç›‘æ§ - æ‰§è¡Œæ—¶é—´å’Œèµ„æºä½¿ç”¨
- [ ] ä¼˜åŒ–å†…å­˜ä½¿ç”¨ - é…ç½®å’Œç¼“å­˜ç®¡ç†
- [ ] å®ç°æ™ºèƒ½ç¼“å­˜æœºåˆ¶ - åŸºäºä½¿ç”¨é¢‘ç‡çš„ç¼“å­˜ç­–ç•¥

#### 5.3 å¼€å‘ä½“éªŒä¼˜åŒ–
- [ ] å®Œå–„é…ç½®çƒ­é‡è½½ - ç”Ÿäº§çº§ç¨³å®šæ€§
- [ ] æ·»åŠ ä¸­é—´ä»¶å¼€å‘å·¥å…· - è°ƒè¯•å’Œæµ‹è¯•å·¥å…·
- [ ] å®Œå–„é”™è¯¯æ¶ˆæ¯å’Œè°ƒè¯•ä¿¡æ¯ - æ›´å¥½çš„å¼€å‘ä½“éªŒ
- [ ] å®ç°é…ç½®éªŒè¯å·¥å…· - é…ç½®æ­£ç¡®æ€§æ£€æŸ¥

### Phase 6: æ–‡æ¡£å’Œç¤ºä¾‹ (Week 6-7) - LOW-MEDIUM

#### 6.1 æ›´æ–°æ¶æ„æ–‡æ¡£
- [ ] æ›´æ–°æ ¸å¿ƒæ¶æ„æ–‡æ¡£ - é›†æˆé…ç½®å’Œä¸­é—´ä»¶ç³»ç»Ÿ
- [ ] å®Œå–„æ’ä»¶å¼€å‘æŒ‡å— - åŒ…å«é…ç½®å’Œä¸­é—´ä»¶æœ€ä½³å®è·µ
- [ ] æ›´æ–° API å‚è€ƒæ–‡æ¡£ - æ–°å¢é…ç½®å’Œä¸­é—´ä»¶ API
- [ ] æ·»åŠ é…ç½®ç®¡ç†æœ€ä½³å®è·µæŒ‡å—

#### 6.2 ç¤ºä¾‹å’Œæ¨¡æ¿
- [ ] åˆ›å»ºä¸­é—´ä»¶å¼€å‘æ¨¡æ¿
- [ ] å®ç°ç¤ºä¾‹ä¸­é—´ä»¶æ’ä»¶
- [ ] æ·»åŠ é…ç½®ç®¡ç†ä½¿ç”¨åœºæ™¯æ¼”ç¤º
- [ ] åˆ›å»ºå¿«é€Ÿå¼€å§‹æŒ‡å— - åŒ…å«é…ç½®å’Œä¸­é—´ä»¶

## ğŸ“Š ä¼˜å…ˆçº§åˆ†æ

### ğŸ”´ CRITICAL (å¿…é¡»ä¼˜å…ˆå®Œæˆ) - âœ… **ALL COMPLETED**
1. âœ… ~~**Feature Injector æ’ä»¶éš”ç¦»æ¶æ„**~~ - ç³»ç»Ÿæ ¸å¿ƒæ¶æ„ **DONE**
2. âœ… ~~**æ’ä»¶ç³»ç»Ÿå®Œæ•´å®ç°**~~ - å½±å“æ•´ä½“åŠŸèƒ½ **DONE**
3. âœ… ~~**åŸºç¡€æ’ä»¶ç®¡ç†å™¨å‡çº§**~~ - å½“å‰ä¸ºå ä½å®ç° **DONE**

### ğŸŸ  HIGH (é‡è¦ä¸”ç´§æ€¥) - **NEXT FOCUS**
1. âœ… ~~**Winston åˆ†å±‚æ—¥å¿—ç³»ç»Ÿ**~~ - ä¼ä¸šçº§éœ€æ±‚ **DONE**
2. âœ… ~~**é…ç½®ç®¡ç†ç³»ç»Ÿ**~~ - ç³»ç»Ÿé…ç½®åŸºç¡€ **DONE**
3. âœ… ~~**HTTP ä¼ è¾“åè®®**~~ - ç°ä»£åŒ–é€šä¿¡åè®® **DONE**
4. **CLI ä½“éªŒä¼˜åŒ–** - å¼€å‘è€…ä½“éªŒæå‡ ğŸ¯ **CURRENT PRIORITY**
5. **åŸºäº npm çš„æ’ä»¶ç®¡ç†** - åˆ©ç”¨æˆç†Ÿç”Ÿæ€ ğŸ¯ **SIMPLIFIED**
6. **é«˜çº§ä¸­é—´ä»¶ç³»ç»Ÿ** - åŠŸèƒ½å¢å¼º (æ›¿ä»£é€‰é¡¹)
7. **æœåŠ¡ç®¡ç†å™¨æ”¹è¿›** - æ ¸å¿ƒæœåŠ¡ç®¡ç†

### ğŸŸ¡ MEDIUM (é‡è¦ä½†ä¸ç´§æ€¥)  
1. **ä¼ä¸šçº§é”™è¯¯å¤„ç†** - ç¨³å®šæ€§ä¿éšœ
2. **ç³»ç»Ÿé›†æˆå’Œä¼˜åŒ–** - æ€§èƒ½å’Œè´¨é‡
3. **æœåŠ¡ç®¡ç†å™¨æ”¹è¿›** - æ ¸å¿ƒæœåŠ¡ç®¡ç†

### ğŸŸ¢ LOW-MEDIUM (å¯ä»¥å»¶å)
1. **å¼€å‘ä½“éªŒä¼˜åŒ–** - å¼€å‘æ•ˆç‡
2. **æ–‡æ¡£å’Œç¤ºä¾‹** - ç”¨æˆ·ä½“éªŒ
3. **æ€§èƒ½ç›‘æ§å·¥å…·** - è¿ç»´æ”¯æŒ

## ğŸ¯ é‡Œç¨‹ç¢‘ç›®æ ‡

### âœ… Milestone 1: æ ¸å¿ƒæ’ä»¶ç³»ç»Ÿ (Week 1-2) - **COMPLETED** ğŸš€
**å®Œæˆæ—¥æœŸ**: 2025-01-06  
**å®ç°å†…å®¹**:
- âœ… **Feature Injector éš”ç¦»æ¶æ„**: å®Œæ•´å®ç°ï¼Œæ”¯æŒ 3 ç§éš”ç¦»çº§åˆ«
- âœ… **æ’ä»¶åŠ¨æ€åŠ è½½/å¸è½½åŠŸèƒ½**: æ”¯æŒçƒ­é‡è½½å’Œæ‰¹é‡æ“ä½œ
- âœ… **æœåŠ¡å®ä¾‹é¢„ç»‘å®šæœºåˆ¶**: æ€§èƒ½ä¼˜åŒ–çš„é¢„ç»‘å®šç³»ç»Ÿ
- âœ… **Plugin Discovery**: é€’å½’æ‰«æå’Œå…ƒæ•°æ®éªŒè¯  
- âœ… **Plugin Loader**: åŠ¨æ€å¯¼å…¥å’Œå¤šç§å®ä¾‹åŒ–æ¨¡å¼
- âœ… **å†²çªæ£€æµ‹ç³»ç»Ÿ**: æ’ä»¶å†²çªè¯†åˆ«å’Œå¤„ç†
- âœ… **æ€§èƒ½ç›‘æ§**: å…¨é¢çš„æŒ‡æ ‡æ”¶é›†å’Œåˆ†æ

**æˆæœ**: +2,716 è¡Œä»£ç ï¼Œ6ä¸ªæ–‡ä»¶æ–°å¢/å¢å¼ºï¼Œå®Œæ•´çš„æ’ä»¶ç³»ç»Ÿæ¶æ„

### âœ… Milestone 2: ä¼ä¸šçº§æ—¥å¿—ç³»ç»Ÿ (Week 2-3) - **COMPLETED** ğŸš€
**å®Œæˆæ—¥æœŸ**: 2025-01-06  
**å®ç°å†…å®¹**:
- âœ… **Winston åˆ†å±‚æ—¥å¿—ç³»ç»Ÿ**: å®Œæ•´æ›¿æ¢ MockWinstonLoggerï¼Œæ”¯æŒå¤šä¼ è¾“
- âœ… **ä¸‰å±‚æ—¥å¿—æ¶æ„**: Platform/Application/Plugin ç‹¬ç«‹æ—¥å¿—å±‚çº§
- âœ… **æ—¥å¿—è½®è½¬å½’æ¡£**: winston-daily-rotate-fileï¼Œ20MB/14å¤©ç­–ç•¥
- âœ… **Logger Factory é›†æˆ**: LayeredLoggerFactory + ä¾èµ–æ³¨å…¥
- âœ… **ä¼ä¸šçº§åŠŸèƒ½**: ç¯å¢ƒé…ç½®ã€ä¸Šä¸‹æ–‡è¿½è¸ªã€æ€§èƒ½ç›‘æ§ã€ç»“æ„åŒ–æ—¥å¿—
- âœ… **æ¼”ç¤ºç³»ç»Ÿ**: å®Œæ•´çš„åŠŸèƒ½æ¼”ç¤ºå’Œä½¿ç”¨ç¤ºä¾‹

**æˆæœ**: +1,151 è¡Œä»£ç ï¼Œ3ä¸ªæ–°æ–‡ä»¶ï¼Œä¼ä¸šçº§æ—¥å¿—åŸºç¡€è®¾æ–½å®Œæˆ

### âœ… Milestone 3: é…ç½®ç®¡ç†ç³»ç»Ÿ (Week 3-4) - **COMPLETED** ğŸš€
**å®Œæˆæ—¥æœŸ**: 2025-01-06  
**å®ç°å†…å®¹**:
- âœ… **åˆ†å±‚é…ç½®ç³»ç»Ÿ**: å®Œæ•´çš„5å±‚é…ç½®ä¼˜å…ˆçº§ (defaults < env-template < env-vars < files < runtime)
- âœ… **Zod Schema éªŒè¯**: ç±»å‹å®‰å…¨çš„é…ç½®éªŒè¯å’Œé»˜è®¤å€¼å¤„ç†
- âœ… **ç¯å¢ƒå˜é‡å¤„ç†**: 60+ ç¯å¢ƒå˜é‡è‡ªåŠ¨æ˜ å°„å’Œç±»å‹è½¬æ¢
- âœ… **çƒ­é‡è½½æ”¯æŒ**: æ–‡ä»¶ç›‘æ§ã€é…ç½®å˜æ›´äº‹ä»¶ã€å¼€å‘æ¨¡å¼è‡ªåŠ¨å¯ç”¨
- âœ… **æ’ä»¶é…ç½®éš”ç¦»**: ç‹¬ç«‹æ’ä»¶é…ç½®ç©ºé—´ï¼Œæ”¯æŒ None/Service/Full éš”ç¦»çº§åˆ«
- âœ… **ä¾èµ–æ³¨å…¥é›†æˆ**: å®Œæ•´çš„ DI tokens/providersï¼Œæ— ç¼é›†æˆç°æœ‰æ¶æ„
- âœ… **é…ç½®æ¼”ç¤ºç³»ç»Ÿ**: å®Œæ•´çš„åŠŸèƒ½æ¼”ç¤ºå’Œä½¿ç”¨ç¤ºä¾‹

**æˆæœ**: +4,799 è¡Œä»£ç ï¼Œ8ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼Œ50+ æµ‹è¯•ç”¨ä¾‹ï¼Œä¼ä¸šçº§é…ç½®ç®¡ç†åŸºç¡€è®¾æ–½

### âœ… Milestone 3.5: HTTP ä¼ è¾“åè®® (Week 4) - **COMPLETED** ğŸš€  
**å®Œæˆæ—¥æœŸ**: 2025-01-06  
**å®ç°å†…å®¹**:
- âœ… **MCP Streamable HTTP ä¼ è¾“**: åŸºäº Express.js çš„å®Œæ•´ HTTP ä¼ è¾“å®ç°
- âœ… **åŒæ¨¡å¼æ”¯æŒ**: SSE æµå¼ä¼ è¾“å’Œ JSON å“åº”æ¨¡å¼
- âœ… **ä¼šè¯ç®¡ç†**: æœ‰çŠ¶æ€/æ— çŠ¶æ€ä¼šè¯æ”¯æŒï¼ŒUUID ä¼šè¯æ ‡è¯†
- âœ… **å®‰å…¨åŠŸèƒ½**: CORS æ”¯æŒã€DNS é‡ç»‘å®šä¿æŠ¤ã€è¯·æ±‚è¶…æ—¶æ§åˆ¶
- âœ… **å¼€å‘è€…ä½“éªŒ**: å¥åº·æ£€æŸ¥ç«¯ç‚¹ã€è¯·æ±‚è¿½è¸ªã€è¯¦ç»†é”™è¯¯å¤„ç†
- âœ… **é…ç½®é›†æˆ**: å®Œæ•´çš„ HTTP ä¼ è¾“é…ç½®éªŒè¯å’Œç®¡ç†
- âœ… **æµ‹è¯•è¦†ç›–**: 22ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…å«å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- âœ… **æ–‡æ¡£å®Œå–„**: å®Œæ•´çš„ä½¿ç”¨æŒ‡å—ã€å®¢æˆ·ç«¯ç¤ºä¾‹ã€æ•…éšœæ’é™¤

**æˆæœ**: +1,453 è¡Œä»£ç ï¼Œ3ä¸ªæ–°æ–‡ä»¶ï¼Œä¼ä¸šçº§ HTTP ä¼ è¾“åŸºç¡€è®¾æ–½

### ğŸ¯ Milestone 4: CLI ä½“éªŒä¼˜åŒ– (Week 5-6) - **CURRENT PRIORITY** ğŸ’»
**ç›®æ ‡**: å®ç°ç°ä»£åŒ– CLI å·¥å…·ï¼Œæä¾›å“è¶Šçš„å¼€å‘è€…ä½“éªŒå’ŒåŒ…ç®¡ç†åŠŸèƒ½  
**é¢„ä¼°å·¥æœŸ**: 2 weeks

#### 4.1 ç°ä»£åŒ– CLI æ¡†æ¶ (Priority: CRITICAL)
- [ ] **CLI æ¶æ„é‡æ„**: æ›¿æ¢åŸºç¡€å‚æ•°è§£æä¸ºç°ä»£åŒ– CLI æ¡†æ¶
- [ ] **å‘½ä»¤ç³»ç»Ÿ**: å®ç°å­å‘½ä»¤æ¶æ„ (start/plugin/init/config/dev/diagnostic)
- [ ] **å‚æ•°éªŒè¯**: Zod schema éªŒè¯å‘½ä»¤è¡Œå‚æ•°å’Œé€‰é¡¹
- [ ] **å½©è‰²è¾“å‡º**: chalk é›†æˆï¼Œç¾è§‚çš„å‘½ä»¤è¡Œç•Œé¢
- [ ] **è¿›åº¦æŒ‡ç¤ºå™¨**: æ“ä½œè¿›åº¦æ¡å’ŒçŠ¶æ€æ˜¾ç¤º

#### 4.2 åŒ…ç®¡ç†å’Œæ’ä»¶åˆ†å‘ç³»ç»Ÿ (Priority: HIGH)
- [ ] **æ’ä»¶åŒ…ç®¡ç†å™¨**: å®Œæ•´çš„æ’ä»¶å®‰è£…/å¸è½½/æ›´æ–°ç³»ç»Ÿ
- [ ] **æ’ä»¶æ¨¡æ¿ç”Ÿæˆ**: `sker plugin create` å‘½ä»¤å’Œè„šæ‰‹æ¶
- [ ] **æ’ä»¶æ‰“åŒ…å·¥å…·**: æ ‡å‡†åŒ–æ’ä»¶æ‰“åŒ…å’Œåˆ†å‘æ ¼å¼
- [ ] **ç‰ˆæœ¬ç®¡ç†**: æ’ä»¶ç‰ˆæœ¬æ§åˆ¶å’Œä¾èµ–è§£æ
- [ ] **æ’ä»¶æ³¨å†Œè¡¨**: æœ¬åœ°å’Œè¿œç¨‹æ’ä»¶æ³¨å†Œè¡¨æ”¯æŒ
- [ ] **æ’ä»¶å¸‚åœº**: æ’ä»¶å‘ç°å’Œæœç´¢åŠŸèƒ½

#### 4.3 äº¤äº’å¼å¼€å‘å·¥å…· (Priority: HIGH)  
- [ ] **é¡¹ç›®åˆå§‹åŒ–å‘å¯¼**: `sker init` äº¤äº’å¼é¡¹ç›®åˆ›å»º
- [ ] **é…ç½®ç®¡ç† CLI**: `sker config` å¯è§†åŒ–é…ç½®ç®¡ç†
- [ ] **å¼€å‘æ¨¡å¼**: `sker dev` çƒ­é‡è½½å¼€å‘æœåŠ¡å™¨
- [ ] **è°ƒè¯•å·¥å…·**: å®æ—¶æ—¥å¿—æŸ¥çœ‹ã€æ€§èƒ½ç›‘æ§ã€æ’ä»¶çŠ¶æ€
- [ ] **å¥åº·æ£€æŸ¥**: ç³»ç»Ÿè¯Šæ–­å’Œæ•…éšœæ’é™¤å·¥å…·

#### 4.4 è‡ªåŠ¨åŒ–å’Œé›†æˆåŠŸèƒ½ (Priority: MEDIUM)
- [ ] **è‡ªåŠ¨å®Œæˆ**: bash/zsh/fish shell è¡¥å…¨è„šæœ¬
- [ ] **æ–‡æ¡£ç”Ÿæˆ**: æ’ä»¶æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ
- [ ] **æµ‹è¯•æ¡†æ¶**: æ’ä»¶æµ‹è¯•å·¥å…·å’Œæ–­è¨€åº“
- [ ] **æ„å»ºç³»ç»Ÿ**: æ’ä»¶æ„å»ºå’Œä¼˜åŒ–æµç¨‹
- [ ] **éƒ¨ç½²å·¥å…·**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è¾…åŠ©

### ğŸ”„ Milestone 4 æ›¿ä»£é€‰é¡¹: é«˜çº§åŠŸèƒ½å®Œå–„ (Week 5-6) - **ALTERNATIVE**
- [ ] é«˜çº§ä¸­é—´ä»¶é›†åˆ (Logging/Validation/Cache/Auth)  
- [ ] ä¼ä¸šçº§é”™è¯¯å¤„ç† (é‡è¯•/ç†”æ–­/é™çº§)
- [ ] æœåŠ¡ç®¡ç†å™¨æ”¹è¿› (é¢„ç»‘å®šé›†æˆã€åŠ¨æ€æ³¨å†Œ)

### Milestone 5: ç³»ç»Ÿé›†æˆä¼˜åŒ– (Week 6-7)
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œç›‘æ§å·¥å…·
- [ ] å¼€å‘ä½“éªŒæ”¹å–„ (çƒ­é‡è½½/è°ƒè¯•)
- [ ] é›†æˆæµ‹è¯•è¦†ç›–å’Œè´¨é‡ä¿éšœ

### Milestone 6: å‘å¸ƒå‡†å¤‡ (Week 7-8)
- [ ] æ–‡æ¡£å®Œå–„æ›´æ–°
- [ ] ç¤ºä¾‹å’Œæ¨¡æ¿
- [ ] å‘å¸ƒå‡†å¤‡å°±ç»ª

## ğŸ“ å®ç°æ³¨æ„äº‹é¡¹

### æ¶æ„ä¸€è‡´æ€§
- ä¸¥æ ¼éµå¾ªè®¾è®¡æ–‡æ¡£ä¸­çš„ Feature Injector éš”ç¦»åŸåˆ™
- ç¡®ä¿æ’ä»¶é—´å®Œå…¨éš”ç¦»ï¼Œé¿å…ç›¸äº’å½±å“
- ä¿æŒä¸ç°æœ‰è£…é¥°å™¨ç³»ç»Ÿçš„å…¼å®¹æ€§

### å‘åå…¼å®¹æ€§
- ä¿æŒç°æœ‰ API æ¥å£ä¸å˜
- æ¸è¿›å¼å‡çº§ï¼Œé¿å…ç ´åæ€§æ›´æ”¹
- ä¸ºç°æœ‰åŠŸèƒ½æä¾›å‡çº§è·¯å¾„

### ä»£ç è´¨é‡
- ä¿æŒå®Œæ•´çš„ TypeScript ç±»å‹å®‰å…¨
- ç¼–å†™å…¨é¢çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- éµå¾ªç»Ÿä¸€çš„ä»£ç è§„èŒƒå’Œæœ€ä½³å®è·µ

### æ€§èƒ½è€ƒè™‘
- å®ç°æœåŠ¡å®ä¾‹é¢„ç»‘å®šä»¥ä¼˜åŒ–æ‰§è¡Œæ€§èƒ½
- åˆç†ä½¿ç”¨ç¼“å­˜å‡å°‘é‡å¤è®¡ç®—
- ç›‘æ§å†…å­˜ä½¿ç”¨ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼

## ğŸ—ï¸ CLI ä½“éªŒä¼˜åŒ–æ¶æ„è®¾è®¡

### CLI åº”ç”¨æ¶æ„
```
src/cli/
â”œâ”€â”€ cli-application.ts     # ä¸» CLI åº”ç”¨ç±»
â”œâ”€â”€ commands/              # å­å‘½ä»¤å®ç°
â”‚   â”œâ”€â”€ start.ts          # sker start - å¯åŠ¨æœåŠ¡å™¨
â”‚   â”œâ”€â”€ init.ts           # sker init - TypeScript é¡¹ç›®åˆå§‹åŒ–
â”‚   â”œâ”€â”€ auth/             # sker auth - ç§æœ‰ä»“åº“è®¤è¯
â”‚   â”‚   â”œâ”€â”€ login.ts      # ç™»å½•ç§æœ‰ npm ä»“åº“
â”‚   â”‚   â”œâ”€â”€ logout.ts     # ç™»å‡º
â”‚   â”‚   â”œâ”€â”€ whoami.ts     # ç”¨æˆ·ä¿¡æ¯
â”‚   â”‚   â””â”€â”€ status.ts     # è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ plugin/           # sker plugin - TypeScript æ’ä»¶ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ install.ts    # ç§æœ‰ä»“åº“æ’ä»¶å®‰è£…
â”‚   â”‚   â”œâ”€â”€ uninstall.ts  # æ’ä»¶å¸è½½
â”‚   â”‚   â”œâ”€â”€ update.ts     # ç§æœ‰ä»“åº“æ’ä»¶æ›´æ–°
â”‚   â”‚   â”œâ”€â”€ list.ts       # æ’ä»¶åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ search.ts     # ç§æœ‰ä»“åº“æœç´¢
â”‚   â”‚   â”œâ”€â”€ create.ts     # TypeScript æ’ä»¶åˆ›å»º
â”‚   â”‚   â”œâ”€â”€ build.ts      # TypeScript æ’ä»¶æ„å»º
â”‚   â”‚   â”œâ”€â”€ test.ts       # æ’ä»¶æµ‹è¯•
â”‚   â”‚   â””â”€â”€ publish.ts    # ç§æœ‰ä»“åº“æ’ä»¶å‘å¸ƒ
â”‚   â”œâ”€â”€ config/           # sker config - é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ get.ts        # è·å–é…ç½®
â”‚   â”‚   â”œâ”€â”€ set.ts        # è®¾ç½®é…ç½®
â”‚   â”‚   â””â”€â”€ wizard.ts     # é…ç½®å‘å¯¼
â”‚   â”œâ”€â”€ dev.ts            # sker dev - å¼€å‘æ¨¡å¼
â”‚   â”œâ”€â”€ diagnostic.ts     # sker diagnostic - ç³»ç»Ÿè¯Šæ–­
â”‚   â”œâ”€â”€ logs.ts           # sker logs - æ—¥å¿—æŸ¥çœ‹
â”‚   â””â”€â”€ deploy.ts         # sker deploy - éƒ¨ç½²å·¥å…·
â”œâ”€â”€ utils/                # CLI å·¥å…·
â”‚   â”œâ”€â”€ output.ts         # å½©è‰²è¾“å‡ºå’Œæ ¼å¼åŒ–
â”‚   â”œâ”€â”€ progress.ts       # è¿›åº¦æ¡å’ŒåŠ è½½å™¨
â”‚   â”œâ”€â”€ prompt.ts         # äº¤äº’å¼æç¤º
â”‚   â”œâ”€â”€ validation.ts     # å‚æ•°éªŒè¯
â”‚   â””â”€â”€ npm-wrapper.ts    # npm å‘½ä»¤åŒ…è£…å™¨
â”œâ”€â”€ templates/            # TypeScript é¡¹ç›®å’Œæ’ä»¶æ¨¡æ¿
â”‚   â”œâ”€â”€ project/          # TypeScript é¡¹ç›®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ basic/        # åŸºç¡€é¡¹ç›®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ advanced/     # é«˜çº§é¡¹ç›®æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ enterprise/   # ä¼ä¸šçº§é¡¹ç›®æ¨¡æ¿
â”‚   â”œâ”€â”€ plugin/           # TypeScript æ’ä»¶æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ basic/        # åŸºç¡€æ’ä»¶æ¨¡æ¿ 
â”‚   â”‚   â”œâ”€â”€ tool/         # å·¥å…·æ’ä»¶æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ resource/     # èµ„æºæ’ä»¶æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ middleware/   # ä¸­é—´ä»¶æ’ä»¶æ¨¡æ¿
â”‚   â””â”€â”€ config/           # é…ç½®æ¨¡æ¿
â””â”€â”€ completions/          # shell è‡ªåŠ¨å®Œæˆ
    â”œâ”€â”€ bash-completion
    â”œâ”€â”€ zsh-completion
    â””â”€â”€ fish-completion
```

### åŸºäº npm çš„åŒ…ç®¡ç†ç³»ç»Ÿè®¾è®¡

**ğŸ¯ è®¾è®¡å†³ç­–**: ä½¿ç”¨ npm ä½œä¸ºæ’ä»¶åŒ…ç®¡ç†å™¨ï¼Œè€Œä¸æ˜¯è‡ªå»ºåŒ…ç®¡ç†ç³»ç»Ÿ

**âœ… npm æ–¹æ¡ˆä¼˜åŠ¿**:
- **ç”Ÿæ€æˆç†Ÿ**: åˆ©ç”¨ npm å¼ºå¤§çš„åŒ…ç®¡ç†ç”Ÿæ€
- **ä¾èµ–è§£æ**: npm è‡ªåŠ¨å¤„ç†å¤æ‚çš„ä¾èµ–å…³ç³»å’Œç‰ˆæœ¬å†²çª
- **å‘å¸ƒæµç¨‹**: å¼€å‘è€…ç†Ÿæ‚‰çš„ `npm publish` å‘å¸ƒæµç¨‹
- **æœç´¢å‘ç°**: åˆ©ç”¨ npm çš„æœç´¢å’Œå‘ç°æœºåˆ¶
- **å®‰å…¨æ‰«æ**: npm audit è‡ªåŠ¨å®‰å…¨æ¼æ´æ£€æµ‹
- **ç¼“å­˜ä¼˜åŒ–**: npm çš„ç¼“å­˜æœºåˆ¶æå‡å®‰è£…é€Ÿåº¦
- **å¼€å‘ç®€åŒ–**: æ— éœ€ç»´æŠ¤è‡ªå®šä¹‰åŒ…æ³¨å†Œè¡¨

**ğŸ—ï¸ æ’ä»¶å‘½åè§„èŒƒ**: ä½¿ç”¨ `@sker-plugins/` scope ç»Ÿä¸€ç®¡ç†
```typescript
// æ ‡å‡† npm package.json ç»“æ„ï¼Œæ·»åŠ  sker æ‰©å±•
interface SkerPluginPackage {
  name: string;                    // npm åŒ…å: @sker-plugins/plugin-name
  version: string;                 // semver ç‰ˆæœ¬
  description: string;
  main: string;
  keywords: string[];              // åŒ…å« "sker", "mcp", "plugin"
  sker: {
    compatibility: string;         // Sker MCP ç‰ˆæœ¬å…¼å®¹æ€§: "^1.0.0"
    type: 'plugin' | 'theme' | 'template';
    category: string[];            // ["utility", "development", "ai", ...]
    entry?: string;                // æ’ä»¶å…¥å£æ–‡ä»¶ (é»˜è®¤ä½¿ç”¨ main)
    config?: Record<string, any>;  // é»˜è®¤é…ç½®
  };
  dependencies?: Record<string, string>;
  peerDependencies?: Record<string, string>;
}

// ç§æœ‰ npm ä»“åº“è®¤è¯ç®¡ç†
interface AuthManager {
  login(registry: string, username?: string, password?: string): Promise<void>;
  logout(registry?: string): Promise<void>;
  whoami(registry?: string): Promise<string>;
  getAuthStatus(registry?: string): Promise<{authenticated: boolean, user?: string}>;
  configureRegistry(registry: string): Promise<void>;
}

// ç§æœ‰ npm å‘½ä»¤åŒ…è£…å™¨
interface PrivateNpmWrapper {
  install(packageName: string, version?: string, registry?: string): Promise<void>;
  uninstall(packageName: string): Promise<void>;
  update(packageName?: string): Promise<void>;
  search(query: string, options?: {registry?: string, scope?: string}): Promise<SkerPluginPackage[]>;
  list(options?: {depth?: number}): Promise<Record<string, any>>;
  outdated(): Promise<Record<string, any>>;
  publish(packagePath: string, registry?: string): Promise<void>;
  buildTypescript(projectPath: string): Promise<void>;
}

// TypeScript æ’ä»¶ç®¡ç†å™¨
interface TypeScriptPluginManager {
  installPlugin(name: string, version?: string): Promise<void>;
  uninstallPlugin(name: string): Promise<void>;  
  updatePlugin(name?: string): Promise<void>;
  buildPlugin(pluginPath: string): Promise<void>;
  testPlugin(pluginPath: string): Promise<void>;
  publishPlugin(pluginPath: string): Promise<void>;
  createPlugin(name: string, template: string): Promise<string>;
  listInstalledPlugins(): Promise<SkerPluginPackage[]>;
  searchPlugins(query: string): Promise<SkerPluginPackage[]>;
  validatePlugin(packagePath: string): Promise<boolean>;
}
```

### CLI å‘½ä»¤è§„èŒƒ
```bash
# åŸºç¡€å‘½ä»¤
sker [options]                    # å¯åŠ¨æœåŠ¡å™¨ (é»˜è®¤)
sker start [options]              # æ˜¾å¼å¯åŠ¨æœåŠ¡å™¨
sker --version                    # ç‰ˆæœ¬ä¿¡æ¯
sker --help                       # å¸®åŠ©ä¿¡æ¯

# è®¤è¯ç®¡ç†
sker auth login                   # ç™»å½•ç§æœ‰ npm ä»“åº“
sker auth logout                  # ç™»å‡ºç§æœ‰ npm ä»“åº“
sker auth whoami                  # æ˜¾ç¤ºå½“å‰ç”¨æˆ·ä¿¡æ¯
sker auth status                  # æ˜¾ç¤ºè®¤è¯çŠ¶æ€

# é¡¹ç›®ç®¡ç†
sker init [project-name]          # åˆå§‹åŒ– TypeScript é¡¹ç›®
sker config get <key>             # è·å–é…ç½®
sker config set <key> <value>     # è®¾ç½®é…ç½®
sker config wizard                # é…ç½®å‘å¯¼

# æ’ä»¶ç®¡ç† (ç§æœ‰ npm + TypeScript)
sker plugin list                  # åˆ—å‡ºå·²å®‰è£…æ’ä»¶
sker plugin install <name>        # ä»ç§æœ‰ä»“åº“å®‰è£…æ’ä»¶
sker plugin uninstall <name>      # å¸è½½æ’ä»¶
sker plugin update [name]         # ä»ç§æœ‰ä»“åº“æ›´æ–°æ’ä»¶
sker plugin search <query>        # åœ¨ç§æœ‰ä»“åº“æœç´¢æ’ä»¶
sker plugin create <name>         # åˆ›å»º TypeScript æ’ä»¶æ¨¡æ¿
sker plugin build [name]          # æ„å»º TypeScript æ’ä»¶
sker plugin test [name]           # æµ‹è¯•æ’ä»¶
sker plugin publish               # å‘å¸ƒæ’ä»¶åˆ°ç§æœ‰ä»“åº“
sker plugin outdated              # æ£€æŸ¥è¿‡æ—¶æ’ä»¶

# å¼€å‘å·¥å…·
sker dev                          # å¼€å‘æ¨¡å¼
sker logs [--follow] [--level]    # æŸ¥çœ‹æ—¥å¿—
sker diagnostic                   # ç³»ç»Ÿè¯Šæ–­
sker test [plugin-name]           # è¿è¡Œæµ‹è¯•

# æ„å»ºå’Œéƒ¨ç½²
sker build [--optimize]           # æ„å»ºé¡¹ç›®
sker deploy [target]              # éƒ¨ç½²åˆ°ç›®æ ‡ç¯å¢ƒ
```

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [æ ¸å¿ƒæ¶æ„è®¾è®¡](./docs/core-architecture.md)
- [æ’ä»¶ç³»ç»Ÿæ¶æ„](./docs/plugin-system.md) 
- [Feature Injector è®¾è®¡](./docs/plugin-feature-injector-design.md)
- [é”™è¯¯å¤„ç†ç³»ç»Ÿ](./docs/error-handling.md)
- [æ—¥å¿—ç³»ç»Ÿæ¶æ„](./docs/logging-system.md)
- [ä¸­é—´ä»¶ç³»ç»Ÿ](./docs/middleware-system.md)
- [HTTP ä¼ è¾“åè®®](./docs/http-transport.md)
- [æ¨¡å—å¯¼å…¥è§„èŒƒ](./docs/module-imports.md)

---
*æœ¬æ–‡æ¡£å°†æ ¹æ®å¼€å‘è¿›å±•æŒç»­æ›´æ–°ï¼Œç¡®ä¿å¼€å‘è·¯çº¿å›¾ä¸å®é™…å®ç°ä¿æŒåŒæ­¥ã€‚*